{% extends 'registration/base.html' %}

{% block content %}
<div class="container d-flex flex-column align-items-center mt-5">
    <div class="w-100" style="max-width: 900px;">
        <h2 class="text-center mb-4">Welcome, {{ user.username }}</h2>

        <h3 class="text-center">Your Enrolled Courses</h3>
        <ul class="list-group mb-4">
            {% for course in user_courses %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <span>{{ course.name }} - {{ course.professor }} ({{ course.time }})</span>
                <a href="{% url 'drop_course' course.id %}" class="btn btn-sm btn-danger">Drop</a>
            </li>
            {% empty %}
            <li class="list-group-item text-center">You are not enrolled in any courses.</li>
            {% endfor %}
        </ul>

        <h3 class="text-center">All Available Courses</h3>
        <table class="table table-striped table-hover text-center">
            <thead class="table-dark">
                <tr>
                    <th>CRN</th>
                    <th>Name</th>
                    <th>Professor</th>
                    <th>Time</th>
                </tr>
            </thead>
            <tbody>
                {% for course in all_courses %}
                <tr>
                    <td>{{ course.course_id }}</td>
                    <td>{{ course.name }}</td>
                    <td>{{ course.instructor }}</td>
                    <td>{{ course.time }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <div class="text-center mt-3">
            <a href="{% url 'enroll' %}" class="btn btn-primary">Go to Enroll Page</a>
        </div>
    </div>
</div>
{% endblock %}
